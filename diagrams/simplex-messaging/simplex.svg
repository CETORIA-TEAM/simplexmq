<svg id="mermaid-1603362434534" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="166.111572265625" style="max-width: 1051px;" viewBox="0 0 1051 166.111572265625"><style>#mermaid-1603362434534{font-family:"trebuchet ms",verdana,arial;font-size:16px;fill:#333;}#mermaid-1603362434534 .error-icon{fill:#552222;}#mermaid-1603362434534 .error-text{fill:#552222;stroke:#552222;}#mermaid-1603362434534 .edge-thickness-normal{stroke-width:2px;}#mermaid-1603362434534 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1603362434534 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1603362434534 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1603362434534 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1603362434534 .marker{fill:#333333;}#mermaid-1603362434534 .marker.cross{stroke:#333333;}#mermaid-1603362434534 svg{font-family:"trebuchet ms",verdana,arial;font-size:16px;}#mermaid-1603362434534 .label{font-family:"trebuchet ms",verdana,arial;color:#333;}#mermaid-1603362434534 .label text{fill:#333;}#mermaid-1603362434534 .node rect,#mermaid-1603362434534 .node circle,#mermaid-1603362434534 .node ellipse,#mermaid-1603362434534 .node polygon,#mermaid-1603362434534 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1603362434534 .node .label{text-align:center;}#mermaid-1603362434534 .node.clickable{cursor:pointer;}#mermaid-1603362434534 .arrowheadPath{fill:#333333;}#mermaid-1603362434534 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaid-1603362434534 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1603362434534 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1603362434534 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1603362434534 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1603362434534 .cluster text{fill:#333;}#mermaid-1603362434534 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1603362434534:root{--mermaid-font-family:"trebuchet ms",verdana,arial;}#mermaid-1603362434534 flowchart{fill:apa;}</style><g><g class="output"><g class="clusters"><g class="cluster" id="flowchart-subGraph0-476" transform="translate(503.0078125,83.0557861328125)" style="opacity: 1;"><rect width="661.015625" height="150.111572265625" x="-330.5078125" y="-75.0557861328125"></rect><g class="label" transform="translate(0, -61.0557861328125)" id="mermaid-1603362434534Text"><g transform="translate(-83.140625,-11.875)"><foreignObject width="166.2890625" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">server (queue RID)</div></foreignObject></g></g></g></g><g class="edgePaths"><g class="edgePath LS-S LE-VS" id="L-S-VS" style="opacity: 1;"><path class="path" d="M87.765625,85.953857421875L130.1328125,85.953857421875L172.5,85.953857421875L198,86.453857421875" marker-end="url(#arrowhead725)" style="fill:none"></path><defs><marker id="arrowhead725" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-VS LE-DB" id="L-VS-DB" style="opacity: 1;"><path class="path" d="M398.9375,86.453857421875L423.4375,85.953857421875L448.4375,85.953857421875" marker-end="url(#arrowhead726)" style="fill:none"></path><defs><marker id="arrowhead726" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-DB LE-VR" id="L-DB-VR" style="opacity: 1;"><path class="path" d="M534.421875,85.953857421875L559.421875,85.953857421875L584.921875,86.453857421875" marker-end="url(#arrowhead727)" style="fill:none"></path><defs><marker id="arrowhead727" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-R LE-VR" id="L-R-VR" style="opacity: 1;"><path class="path" d="M942.109375,98.51380240382822L887.8125,112.03271484375L833.515625,112.03271484375L799.2810442772998,105.92301886727547" marker-end="url(#arrowhead728)" style="fill:none"></path><defs><marker id="arrowhead728" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g><g class="edgePath LS-VR LE-R" id="L-VR-R" style="opacity: 1;"><path class="path" d="M800.7342595158906,69.89112645365623L833.515625,64.078857421875L887.8125,64.078857421875L942.109375,75.41854937384039" marker-end="url(#arrowhead729)" style="fill:none"></path><defs><marker id="arrowhead729" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(130.1328125,85.953857421875)" style="opacity: 1;"><g transform="translate(-17.3671875,-11.875)" class="label"><rect rx="0" ry="0" width="34.734375" height="23.75"></rect><foreignObject width="34.74609375" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-S-VS" class="edgeLabel L-LS-S' L-LE-VS">msg</span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-VS-DB" class="edgeLabel L-LS-VS' L-LE-DB"></span></div></foreignObject></g></g><g class="edgeLabel" transform="" style="opacity: 1;"><g transform="translate(0,0)" class="label"><rect rx="0" ry="0" width="0" height="0"></rect><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-DB-VR" class="edgeLabel L-LS-DB' L-LE-VR"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(887.8125,112.03271484375)" style="opacity: 1;"><g transform="translate(-27.0078125,-11.875)" class="label"><rect rx="0" ry="0" width="54.015625" height="23.75"></rect><foreignObject width="54.0234375" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-R-VR" class="edgeLabel L-LS-R' L-LE-VR">1) sub</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(887.8125,64.078857421875)" style="opacity: 1;"><g transform="translate(-29.296875,-11.875)" class="label"><rect rx="0" ry="0" width="58.59375" height="23.75"></rect><foreignObject width="58.59375" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span id="L-L-VR-R" class="edgeLabel L-LS-VR' L-LE-R">2) msg</span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-DB-469" label-offset-y="10.18847663482189" transform="translate(491.4296875,85.953857421875)" style="opacity: 1;"><path d="M 0,10.18847663482189 a 42.9921875,10.18847663482189 0,0,0 85.984375 0 a 42.9921875,10.18847663482189 0,0,0 -85.984375 0 l 0,53.93847663482189 a 42.9921875,10.18847663482189 0,0,0 85.984375 0 l 0,-53.93847663482189" transform="translate(-42.9921875,-37.15771495223284)" class="label-container"></path><g class="label" transform="translate(0,0)"><g transform="translate(-32.9921875,-11.875)"><foreignObject width="65.99609375" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">storage</div></foreignObject></g></g></g><g class="node default" id="flowchart-VS-464" transform="translate(297.96875,85.953857421875)" style="opacity: 1;"><polygon points="10.9375,0 190,0 200.9375,-21.875 190,-43.75 10.9375,-43.75 0,-21.875" transform="translate(-100.46875,21.875)" class="label-container"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-79.53125,-11.875)"><foreignObject width="159.0625" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">verify sender (SK)</div></foreignObject></g></g></g><g class="node default" id="flowchart-VR-465" transform="translate(696.46875,85.953857421875)" style="opacity: 1;"><polygon points="10.9375,0 213.15625,0 224.09375,-21.875 213.15625,-43.75 10.9375,-43.75 0,-21.875" transform="translate(-112.046875,21.875)" class="label-container"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-91.109375,-11.875)"><foreignObject width="182.2265625" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">verify recipient (RK)</div></foreignObject></g></g></g><g class="node default" id="flowchart-S-466" transform="translate(47.8828125,85.953857421875)" style="opacity: 1;"><rect rx="5" ry="5" x="-39.8828125" y="-21.875" width="79.765625" height="43.75" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-29.8828125,-11.875)"><foreignObject width="59.765625" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">sender</div></foreignObject></g></g></g><g class="node default" id="flowchart-R-472" transform="translate(992.5546875,85.953857421875)" style="opacity: 1;"><rect rx="5" ry="5" x="-50.4453125" y="-21.875" width="100.890625" height="43.75" class="label-container"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-40.4453125,-11.875)"><foreignObject width="80.8984375" height="23.75"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">recipient</div></foreignObject></g></g></g></g></g></g></svg>